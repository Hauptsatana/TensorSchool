# Tensor School Project

Проект интернет-магазина, разработанного с нуля для демонстрации современных подходов к веб-разработке в Tensor School 2021.

Frontend и backend разрабатывались во время лекций независимо друг от друга, в этой точке они научились
взаимодействовать друг с другом как отдельные сервисы.

## **Запуск фронтенда**

Выполнить команды в корне репозитория:
```
   cd ./client
   npm install
   npm run dev
```

Сервис фронтенда запустится по адресу http://localhost:3000

### Эксперименты

1) В коде Catalog.vue по умолчанию включен локальный источник данных, но можно включить источник с бекенда.  
   При этом бекенд должен быть запущен с CORS.

2) Можно выключить debounce в Catalog.vue и ввести в строку поиска "red" (для локального источника) или "кот" (для
   серверного источника)

## **Запуск бекенда**

Выполнить команды в корне репозитория:
```
   cd ./server
   install.bat
   start.bat
```

Сервис бекенда запустится по адресу http://localhost:8080

На бекенде включен CORS, т.к. фронт пока - отдельный сервис, а браузеры блокируют межсервисные запросы без CORS.  
О настройке CORS в aiohttp можно узнать тут <https://github.com/aio-libs/aiohttp-cors>

### **Запросы к бекенду**

Товар описывается следующими полями:

```
{
   id: int,
   name: text,
   description: text,
   photo: text,
   price: numeric
}
```

#### **GET /goods/{id}**

Вернет объект с полями товара.

#### **POST /goods**

Создает товар со значениями полей в теле запроса.

#### **POST /goods/{id}**

Обновить товар со значениями полей в теле запроса.

#### **GET /goods?limit={limit}&page={page}&search={search}**

Вернет объект вида
```
{
   // Список товаров.
   result: [
      { id: 1, name: 'Test item', price: 999, photo: null },
      ...
   ],

   // Общее количество найденных товаров. Нужно для отображения навигации.
   count: 10
}

```

**Параметры запроса**  
limit - ограничить число записей на странице  
page - номер страницы  
search - значение в строке поиска  